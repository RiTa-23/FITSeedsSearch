# FITSeedsSearch 開発メモ

## データの用意(csvファイル整形)
KAKEN（https://kaken.nii.ac.jp/ja/）にて「福岡工業大学」で検索した結果をCSVファイル等で保存して，整形した
-  福岡工業大学の研究だけに絞り込み
-  検索に使いやすい項目だけを抽出
-  教員名と研究内容を取り出す

## 1. 要件定義
福岡工業大学の研究シーズデータ (`fit_seeds_cleaned.csv`) を活用し、以下の機能を持つWebアプリケーションを構築する。

- **目的**: 研究課題のフリーワード検索
- **ターゲット**: 研究シーズを探しているユーザー
- **必須要件**:
    - バックエンドは **FastAPI** を使用
    - フロントエンドも **Python** で記述 (Streamlitを採用)
    - データベースは **PostgreSQL** を使用
    - 環境構築には **uv** を使用

## 2. 実装内容
### 技術スタック
- **言語**: Python 3.14 (uvにより管理)
- **バックエンド**: FastAPI, Uvicorn
- **フロントエンド**: Streamlit
- **データベース**: PostgreSQL (Homebrewで導入), `psycopg[binary]`
- **ORM**: SQLModel (SQLAlchemy wrapper)

### システム構成
1. **データ取り込み (`scripts/ingest_data.py`)**
    - `pandas` でCSVを読み込み、SQLModel経由でPostgreSQL (`fitseeds` DB) にインサート。
2. **バックエンド (`app/main.py`)**
    - `/search` エンドポイントを提供。
    - クエリパラメータ `q` を受け取り、タイトル（日英）、教員名、キーワード、研究分野、内容（日英）に対して `ILIKE` 検索（部分一致）を実行。
3. **フロントエンド (`frontend/app.py`)**
    - ユーザーからの検索語句入力を受け付け、バックエンドAPIを叩く。
    - 結果をテーブル表示し、詳細を展開可能にする。

### データベース設計 (`Seed` モデル)
- **テーブル名**: `seed`
- **カラム**: ID, 研究課題番号, タイトル(日英), 教員名, 代表者, キーワード, 研究分野, 内容(日英)